{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0832cc81\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" test reset \");\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" test for schleife \");\n\nconst _hoisted_3 = {\n  key: 0\n};\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" Heute noch nicht besucht \");\n\nconst _hoisted_5 = {\n  key: 1\n};\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = [_hoisted_6];\nconst _hoisted_8 = {\n  key: 2\n};\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\" Für heute schon alles gerettet \");\n\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\" Hier gibts noch was \");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_button = _resolveComponent(\"ion-button\");\n\n  const _component_ion_card_title = _resolveComponent(\"ion-card-title\");\n\n  const _component_ion_col = _resolveComponent(\"ion-col\");\n\n  const _component_ion_icon = _resolveComponent(\"ion-icon\");\n\n  const _component_ion_label = _resolveComponent(\"ion-label\");\n\n  const _component_ion_chip = _resolveComponent(\"ion-chip\");\n\n  const _component_ion_row = _resolveComponent(\"ion-row\");\n\n  const _component_ion_grid = _resolveComponent(\"ion-grid\");\n\n  const _component_ion_card_header = _resolveComponent(\"ion-card-header\");\n\n  const _component_ion_card_content = _resolveComponent(\"ion-card-content\");\n\n  const _component_ion_card = _resolveComponent(\"ion-card\");\n\n  const _component_ion_content = _resolveComponent(\"ion-content\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" Sheet Modal \"), _createVNode(_component_ion_content, null, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.spot, item => {\n      return _openBlock(), _createBlock(_component_ion_button, {\n        key: item.name,\n        onClick: $event => _ctx.reset(item.status, item.last_status_change, item.time)\n      }, {\n        default: _withCtx(() => [_hoisted_1]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"onClick\"]);\n    }), 128\n    /* KEYED_FRAGMENT */\n    )), _createVNode(_component_ion_button, {\n      onClick: _cache[0] || (_cache[0] = $event => _ctx.for_schleife())\n    }, {\n      default: _withCtx(() => [_hoisted_2]),\n      _: 1\n      /* STABLE */\n\n    }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.spot, item => {\n      return _openBlock(), _createBlock(_component_ion_card, {\n        class: \"card\",\n        key: item.name\n      }, {\n        default: _withCtx(() => [_createVNode(_component_ion_card_header, null, {\n          default: _withCtx(() => [_createVNode(_component_ion_grid, null, {\n            default: _withCtx(() => [_createVNode(_component_ion_row, null, {\n              default: _withCtx(() => [_createVNode(_component_ion_col, null, {\n                default: _withCtx(() => [_createVNode(_component_ion_card_title, {\n                  class: \"title\"\n                }, {\n                  default: _withCtx(() => [_createTextVNode(_toDisplayString(item.name), 1\n                  /* TEXT */\n                  )]),\n                  _: 2\n                  /* DYNAMIC */\n\n                }, 1024\n                /* DYNAMIC_SLOTS */\n                )]),\n                _: 2\n                /* DYNAMIC */\n\n              }, 1024\n              /* DYNAMIC_SLOTS */\n              ), _createVNode(_component_ion_col, {\n                class: \"time_chip\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_ion_chip, null, {\n                  default: _withCtx(() => [_createVNode(_component_ion_icon, {\n                    icon: _ctx.time,\n                    color: \"dark\"\n                  }, null, 8\n                  /* PROPS */\n                  , [\"icon\"]), _createVNode(_component_ion_label, null, {\n                    default: _withCtx(() => [_createTextVNode(\" Ab \" + _toDisplayString(item.time) + \" Uhr \", 1\n                    /* TEXT */\n                    )]),\n                    _: 2\n                    /* DYNAMIC */\n\n                  }, 1024\n                  /* DYNAMIC_SLOTS */\n                  )]),\n                  _: 2\n                  /* DYNAMIC */\n\n                }, 1024\n                /* DYNAMIC_SLOTS */\n                )]),\n                _: 2\n                /* DYNAMIC */\n\n              }, 1024\n              /* DYNAMIC_SLOTS */\n              )]),\n              _: 2\n              /* DYNAMIC */\n\n            }, 1024\n            /* DYNAMIC_SLOTS */\n            )]),\n            _: 2\n            /* DYNAMIC */\n\n          }, 1024\n          /* DYNAMIC_SLOTS */\n          )]),\n          _: 2\n          /* DYNAMIC */\n\n        }, 1024\n        /* DYNAMIC_SLOTS */\n        ), _createVNode(_component_ion_card_content, null, {\n          default: _withCtx(() => [_createVNode(_component_ion_grid, null, {\n            default: _withCtx(() => [_createVNode(_component_ion_row, null, {\n              default: _withCtx(() => [_createVNode(_component_ion_col, null, {\n                default: _withCtx(() => [_createElementVNode(\"p\", null, _toDisplayString(item.description), 1\n                /* TEXT */\n                )]),\n                _: 2\n                /* DYNAMIC */\n\n              }, 1024\n              /* DYNAMIC_SLOTS */\n              )]),\n              _: 2\n              /* DYNAMIC */\n\n            }, 1024\n            /* DYNAMIC_SLOTS */\n            ), _createVNode(_component_ion_row, null, {\n              default: _withCtx(() => [_createVNode(_component_ion_col, null, {\n                default: _withCtx(() => [item.status == '1' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_ion_button, {\n                  class: \"button\",\n                  expand: \"block\",\n                  color: \"danger\",\n                  onClick: _ctx.presentActionSheet\n                }, {\n                  default: _withCtx(() => [_hoisted_4]),\n                  _: 1\n                  /* STABLE */\n\n                }, 8\n                /* PROPS */\n                , [\"onClick\"])])) : _createCommentVNode(\"v-if\", true), item.status == '2' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, _hoisted_7)) : _createCommentVNode(\"v-if\", true), item.status == '3' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" //// \"), item.status == '2' ? (_openBlock(), _createBlock(_component_ion_button, {\n                  key: 3,\n                  class: \"button\",\n                  expand: \"block\",\n                  color: \"success\",\n                  onClick: _ctx.presentActionSheet\n                }, {\n                  default: _withCtx(() => [_hoisted_9]),\n                  _: 1\n                  /* STABLE */\n\n                }, 8\n                /* PROPS */\n                , [\"onClick\"])) : _createCommentVNode(\"v-if\", true), item.status == '3' ? (_openBlock(), _createBlock(_component_ion_button, {\n                  key: 4,\n                  class: \"button\",\n                  expand: \"block\",\n                  color: \"warning\",\n                  onClick: _ctx.presentActionSheet\n                }, {\n                  default: _withCtx(() => [_hoisted_10]),\n                  _: 1\n                  /* STABLE */\n\n                }, 8\n                /* PROPS */\n                , [\"onClick\"])) : _createCommentVNode(\"v-if\", true)]),\n                _: 2\n                /* DYNAMIC */\n\n              }, 1024\n              /* DYNAMIC_SLOTS */\n              )]),\n              _: 2\n              /* DYNAMIC */\n\n            }, 1024\n            /* DYNAMIC_SLOTS */\n            )]),\n            _: 2\n            /* DYNAMIC */\n\n          }, 1024\n          /* DYNAMIC_SLOTS */\n          )]),\n          _: 2\n          /* DYNAMIC */\n\n        }, 1024\n        /* DYNAMIC_SLOTS */\n        )]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1024\n      /* DYNAMIC_SLOTS */\n      );\n    }), 128\n    /* KEYED_FRAGMENT */\n    ))]),\n    _: 1\n    /* STABLE */\n\n  })], 2112\n  /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","_hoisted_6","_createCommentVNode","_createVNode","_component_ion_content","_createElementBlock","_Fragment","_renderList","_ctx","item","_createBlock","_component_ion_button","key","name","onClick","status","last_status_change","time","_component_ion_card","class","_component_ion_card_header","_component_ion_grid","_component_ion_row","_component_ion_col","_component_ion_card_title","_component_ion_chip","_component_ion_icon","icon","color","_component_ion_label","_toDisplayString","_component_ion_card_content","description","_hoisted_3","expand","_hoisted_5","_hoisted_7","_hoisted_8"],"sourceRoot":"","sources":["/home/pumuckl/Dokumente/code/ionic/dumpster-diving-ionic/src/views/SpotModal.vue"],"sourcesContent":["<template>\n    <!-- Sheet Modal -->\n        <ion-content>\n            <ion-button \n                v-for=\"item in spot\" \n                :key=\"item.name\"\n                @click=\"reset(item.status, item.last_status_change, item.time)\">\n                test reset\n            </ion-button>\n            <ion-button \n                @click=\"for_schleife()\">\n                test for schleife\n            </ion-button>\n            <ion-card \n                class=\"card\" \n                v-for=\"item in spot\" \n                :key=\"item.name\">\n                <ion-card-header>\n                    <ion-grid>\n                        <ion-row>\n                        <ion-col>\n                            <ion-card-title class=\"title\">\n                            {{ item.name }}\n                            </ion-card-title>\n                        </ion-col>\n                        <ion-col class=\"time_chip\">\n                            <ion-chip>\n                                <ion-icon \n                                    :icon=\"time\" \n                                    color=\"dark\">\n                                </ion-icon>\n                                <ion-label>\n                                    Ab {{ item.time }} Uhr\n                                </ion-label>\n                            </ion-chip>\n                        </ion-col>\n                        </ion-row>\n                    </ion-grid>\n                </ion-card-header>\n                <ion-card-content>\n                    <ion-grid>\n                        <ion-row>\n                            <ion-col>\n                                <p>\n                                    {{ item.description }}\n                                </p>\n                            </ion-col>\n                        </ion-row>\n                        <ion-row>\n                            <ion-col>\n                                <div\n                                    v-if=\"item.status == '1'\">\n                                    <ion-button \n                                        class=\"button\"\n                                        expand=\"block\" \n                                        color=\"danger\"\n                                        @click=\"presentActionSheet\">\n                                        Heute noch nicht besucht\n                                    </ion-button>\n                                </div>\n                                <div\n                                    v-if=\"item.status == '2'\">\n                                    <div>\n                                    </div>\n                                </div>\n                                <div\n                                    v-if=\"item.status == '3'\">\n                                    \n                                </div>\n                                <!-- //// -->\n                                <ion-button \n                                    class=\"button\"\n                                    v-if=\"item.status == '2'\"\n                                    expand=\"block\" \n                                    color=\"success\"\n                                    @click=\"presentActionSheet\"\n                                    \n                                    >\n                                    Für heute schon alles gerettet\n                                </ion-button>\n                                <ion-button \n                                    class=\"button\"\n                                    v-if=\"item.status == '3'\"\n                                    expand=\"block\" \n                                    color=\"warning\"\n                                    @click=\"presentActionSheet\"\n                                    \n                                    >\n                                    Hier gibts noch was\n                                </ion-button>\n                            </ion-col>\n                        </ion-row>\n                    </ion-grid>\n                </ion-card-content>\n            </ion-card>\n        </ion-content>\n</template>\n\n<script>\nimport { defineComponent } from 'vue';\nimport { useCounterStore } from '@/stores/counter'\nimport { supabase } from \"@/supabase\"\nimport { time } from 'ionicons/icons';\nimport { IonContent, \n    IonCard, \n    IonCardContent, \n    IonCardHeader, \n    IonCardTitle, \n    IonButton, \n    actionSheetController,\n    IonIcon,\n    IonLabel,\n    IonChip,\n    IonCol, \n    IonGrid, \n    IonRow } from '@ionic/vue';\n\nexport default defineComponent({\n  name: 'Tab2Page',\n  components: {\n    IonContent,\n    IonCard, \n    IonCardContent, \n    IonCardHeader, \n    IonCardTitle,\n    IonButton,\n    IonIcon,\n    IonLabel,\n    IonChip,\n    IonCol, \n    IonGrid, \n    IonRow\n    },\n  data: () => ({\n    spot: [],\n  }),\n  setup() {\n    return { time }\n  },\n  async created() {\n    const counter = useCounterStore()\n    console.log(counter.count)\n    const {data: events} = await supabase\n      .from('events')\n      .select('description,name,status,time,last_status_change')\n      .eq('id', counter.count)\n    console.log(events)\n    this.spot = events\n  },\n  methods: {\n    async presentActionSheet() {\n      const actionSheet = await actionSheetController\n        .create({\n          header: 'Status',\n          cssClass: 'my-custom-class',\n          buttons: [\n            {\n              text: 'Heute noch nicht besucht',\n              data: 10,  \n              handler: () => {\n                console.log('Share clicked')\n                this.changeStatus(1)\n              },\n            },\n            {\n              text: 'Für heute schon alles gerettet',\n              data: 'Data value',\n              handler: () => {\n                console.log('Play clicked')\n                this.changeStatus(2)\n              },\n            },\n            {\n              text: 'Hier gibts noch was',\n              handler: () => {\n                console.log('Favorite clicked')\n                this.changeStatus(3)\n              },\n            },\n            {\n              text: 'Abbrechen',\n              role: 'cancel',\n              handler: () => {\n                console.log('Abbrechen clicked')\n              },\n            },\n          ],\n        });\n      await actionSheet.present();\n\n      const { role, data } = await actionSheet.onDidDismiss();\n      console.log('onDidDismiss resolved with role and data', role, data);\n    },\n    async changeStatus(future_status) {\n        console.log(future_status)\n        const counter = useCounterStore()\n        const { data: error } = await supabase\n            .from('events')\n            .update({ status: future_status, last_status_change: new Date() })\n            .eq('id', counter.count )\n        console.log(error)\n        const {data: events} = await supabase\n            .from('events')\n            .select('description,name,status,last_status_change')\n            .eq('id', counter.count)\n        console.log(events)\n        this.spot = events\n    },\n    reset(old_status, last_status_change, time) {\n        // const change_required = 0\n        if (old_status == 1) {\n          console.log('heute noch nicht besucht');\n        } else if (old_status == 2) {\n            this.last_change_or_last_close_early(last_status_change, time)\n        } else if (old_status == 3) {\n            this.last_change_or_last_close_early(last_status_change, time)\n        } else {\n            console.log('fehler. Der Wert ist nicht 1,2 oder 3');\n        }\n    },\n    last_change_or_last_close_early(last_status_change, time) {\n      this.time_since_close(time)\n      this.time_since_change(last_status_change)\n    },\n    time_since_close(time) {\n      // aktuelle Zeit:\n      const heute = new Date();\n      const jetzt_hours = heute.getHours();\n      const jetzt_minutes = heute.getMinutes();\n      console.log(' aktuelle Zeit:', jetzt_hours, ':', jetzt_minutes, 'Uhr')\n      // Ladenschluss Zeit:\n      console.log('Ladenschluss:', time)\n      // Ladenschluss Zeit aufsplitten:\n      const time_split = time.split(':');\n      const time_hours = time_split[0];\n      const time_minutes = time_split[1];\n      console.log(time_hours[0]);\n      console.log(time_minutes[1]);\n\n    },\n    time_since_change() {\n\n    },\n    // for_schleife() {\n    //   this.spot.forEach(function(einArrayElement) { \n    //       console.log(einArrayElement);   \n    //   });\n    // }\n  }\n});\n</script>\n\n<style scoped>\n.card {\n    margin-top: 15px;\n}\n.time_chip {\n    /* position: relative; */\n    text-align: right;\n}\n.title {\n    margin-top: 10px;\n}\n.button {\n    margin-top: 20px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}