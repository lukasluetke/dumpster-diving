"use strict";(self["webpackChunkdumpster_diving_ionic"]=self["webpackChunkdumpster_diving_ionic"]||[]).push([[721],{721:function(e,t,o){o.r(t),o.d(t,{default:function(){return ue}});var a=o(252);const n=(0,a.Uk)("Tab 2");function l(e,t,o,l,s,i){const r=(0,a.up)("ion-header"),u=(0,a.up)("ion-title"),d=(0,a.up)("ion-toolbar"),c=(0,a.up)("l-tile-layer"),m=(0,a.up)("l-marker"),p=(0,a.up)("l-map"),f=(0,a.up)("ion-content"),y=(0,a.up)("ion-page");return(0,a.wg)(),(0,a.j4)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r),(0,a.Wm)(f,{fullscreen:!0},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{collapse:"condense"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{size:"large"},{default:(0,a.w5)((()=>[n])),_:1})])),_:1})])),_:1}),(0,a.Wm)(p,{"z-index":"0",zoom:7,center:[51.365,10.459],options:{zoomControl:!1}},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{style:{"z-index":"100"},url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png"}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.markers,((t,o)=>((0,a.wg)(),(0,a.j4)(m,{onClick:o=>e.openModal(t.id),key:o,ref_for:!0,ref:"markersRef","lat-lng":t.coord},null,8,["onClick","lat-lng"])))),128))])),_:1},8,["center"])])),_:1})])),_:1})}var s=o(110),i=o(262),r=o(963);const u=(e,t)=>{let o;return function(...a){const n=this;o&&clearTimeout(o),o=setTimeout((()=>{e.apply(n,a),o=null}),t)}},d=e=>e&&"function"===typeof e.charAt?e.charAt(0).toUpperCase()+e.slice(1):e,c=(e,t,o)=>{for(const n in o){const l="set"+d(n);e[l]?(0,a.YP)((()=>o[n]),((t,o)=>{e[l](t,o)})):t[l]&&(0,a.YP)((()=>o[n]),(e=>{t[l](e)}))}},m=e=>{const t={};for(const o in e)if(o.startsWith("on")&&!o.startsWith("onUpdate")&&"onReady"!==o){const a=o.slice(2).toLocaleLowerCase();t[a]=e[o]}return t},p=async e=>{const t=await Promise.all([o.e(431).then(o.t.bind(o,431,17)),o.e(93).then(o.t.bind(o,93,17)),o.e(858).then(o.t.bind(o,858,17))]);delete e.Default.prototype._getIconUrl,e.Default.mergeOptions({iconRetinaUrl:t[0].default,iconUrl:t[1].default,shadowUrl:t[2].default})},f=e=>{const t=(0,i.iH)((()=>console.warn(`Method ${e} has been invoked without being replaced`))),o=(...e)=>t.value(...e);return o.wrapped=t,(0,a.JJ)(e,o),o},y=(e,t)=>e.wrapped.value=t,h="object"===typeof self&&self.self===self&&self||"object"===typeof o.g&&o.g.global===o.g&&o.g||void 0,g="useGlobalLeaflet",_={options:{type:Object,default:()=>({})}},b=e=>({options:e.options,methods:{}}),v={..._,pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},w=(e,t,o)=>{const n=(0,a.f3)("addLayer"),l=(0,a.f3)("removeLayer"),{options:s,methods:i}=b(e),r={...s,attribution:e.attribution,pane:e.pane},u=()=>n({leafletObject:t.value}),d=()=>l({leafletObject:t.value}),c={...i,setAttribution(e,t){const o=this.$parent.leafletObject.attributionControl;o.removeAttribution(t).addAttribution(e)},setName(){d(),e.visible&&u()},setLayerType(){d(),e.visible&&u()},setVisible(e){t.value&&(e?u():d())},bindPopup({leafletObject:e}){t.value.bindPopup(e)},bindTooltip({leafletObject:e}){t.value.bindTooltip(e)},unbindTooltip(){const e=t.value?t.value.getTooltip():null;e&&e.unbindTooltip()},unbindPopup(){const e=t.value?t.value.getPopup():null;e&&e.unbindPopup()},updateVisibleProp(e){o.emit("update:visible",e)}};return(0,a.JJ)("bindPopup",c.bindPopup),(0,a.JJ)("bindTooltip",c.bindTooltip),(0,a.JJ)("unbindTooltip",c.unbindTooltip),(0,a.JJ)("unbindPopup",c.unbindPopup),(0,a.Ah)((()=>{c.unbindPopup(),c.unbindTooltip(),d()})),{options:r,methods:c}},L=(e,t)=>{if(e&&t.default)return(0,a.h)("div",{style:{display:"none"}},t.default())},k={..._,interactive:{type:Boolean,default:!0},bubblingMouseEvents:{type:Boolean,default:!0}},C={...v,...k,stroke:{type:Boolean,custom:!0,default:!0},color:{type:String,custom:!0,default:"#3388ff"},weight:{type:Number,custom:!0,default:3},opacity:{type:Number,custom:!0,default:1},lineCap:{type:String,custom:!0,default:"round"},lineJoin:{type:String,custom:!0,default:"round"},dashArray:{type:String,custom:!0,default:null},dashOffset:{type:String,custom:!0,default:null},fill:{type:Boolean,custom:!0,default:!1},fillColor:{type:String,custom:!0,default:"#3388ff"},fillOpacity:{type:Number,custom:!0,default:.2},fillRule:{type:String,custom:!0,default:"evenodd"},className:{type:String,custom:!0,default:null}},A={...C,latLng:{type:[Object,Array],custom:!0,default:null},radius:{type:Number,default:null}};const B={..._,position:{type:String,default:"topright"}},S=(e,t)=>{const{options:o,methods:n}=b(e),l={...o,position:e.position},s={...n,setPosition(e){t.value&&t.value.setPosition(e)}};return(0,a.Ah)((()=>{t.value&&t.value.remove()})),{options:l,methods:s}},j=e=>e.default?(0,a.h)("div",{ref:"root"},e.default()):null;Boolean,Boolean;Boolean,Boolean,Boolean,Boolean;Boolean,Boolean,Boolean;const O={...v};const R={...v,pane:{type:String,default:"tilePane"},opacity:{type:Number,custom:!1,default:1},zIndex:{type:Number,default:1},tileSize:{type:Number,default:256},noWrap:{type:Boolean,default:!1},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:void 0}},z=(e,t,o)=>{const{options:a,methods:n}=w(e,t,o),l={...a,pane:e.pane,opacity:e.opacity,zIndex:e.zIndex,tileSize:e.tileSize,noWrap:e.noWrap,minZoom:e.minZoom,maxZoom:e.maxZoom};return{options:l,methods:{...n}}};const T={iconUrl:{type:String,custom:!0,default:null},iconRetinaUrl:{type:String,custom:!0,default:null},iconSize:{type:[Object,Array],custom:!0,default:null},iconAnchor:{type:[Object,Array],custom:!0,default:null},popupAnchor:{type:[Object,Array],custom:!0,default:()=>[0,0]},tooltipAnchor:{type:[Object,Array],custom:!0,default:()=>[0,0]},shadowUrl:{type:String,custom:!0,default:null},shadowRetinaUrl:{type:String,custom:!0,default:null},shadowSize:{type:[Object,Array],custom:!0,default:null},shadowAnchor:{type:[Object,Array],custom:!0,default:null},bgPos:{type:[Object,Array],custom:!0,default:()=>[0,0]},className:{type:String,custom:!0,default:""},options:{type:Object,custom:!0,default:()=>({})}};Boolean,Boolean;var I={emits:["ready","update:zoom","update:center","update:bounds"],props:{..._,center:{type:[Object,Array],default:()=>[0,0]},bounds:{type:[Array,Object],default:void 0},maxBounds:{type:[Array,Object],default:void 0},zoom:{type:Number,default:0},minZoom:{type:Number,default:void 0},maxZoom:{type:Number,default:void 0},paddingBottomRight:{type:Array,default:void 0},paddingTopLeft:{type:Array,default:void 0},padding:{type:Array,default:void 0},worldCopyJump:{type:Boolean,default:!1},crs:{type:[String,Object],default:"EPSG3857"},maxBoundsViscosity:{type:Number,default:void 0},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number,default:void 0},inertiaMaxSpeed:{type:Number,default:void 0},easeLinearity:{type:Number,default:void 0},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number,default:void 0},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:!1},useGlobalLeaflet:{type:Boolean,default:!1}},setup(e,t){const n=(0,i.iH)(null),l=(0,i.qj)({ready:!1,leafletRef:{},layersToAdd:[],layersInControl:[]}),{options:s}=b(e),r={...s,minZoom:e.minZoom,maxZoom:e.maxZoom,maxBounds:e.maxBounds,maxBoundsViscosity:e.maxBoundsViscosity,worldCopyJump:e.worldCopyJump,crs:e.crs,center:e.center,zoom:e.zoom,inertia:e.inertia,inertiaDeceleration:e.inertiaDeceleration,inertiaMaxSpeed:e.inertiaMaxSpeed,easeLinearity:e.easeLinearity,zoomAnimation:e.zoomAnimation,zoomAnimationThreshold:e.zoomAnimationThreshold,fadeAnimation:e.fadeAnimation,markerZoomAnimation:e.markerZoomAnimation},d=f("addLayer"),_=f("removeLayer"),v=f("registerControl"),w=f("registerLayerControl");(0,a.JJ)(g,e.useGlobalLeaflet);const L={moveEndHandler(){t.emit("update:zoom",l.leafletRef.getZoom()),t.emit("update:center",l.leafletRef.getCenter()),t.emit("update:bounds",l.leafletRef.getBounds())},overlayAddHandler(e){const t=l.layersInControl.find((t=>t.name===e.name));t&&t.updateVisibleProp(!0)},overlayRemoveHandler(e){const t=l.layersInControl.find((t=>t.name===e.name));t&&t.updateVisibleProp(!1)}};(0,a.bv)((async()=>{e.useGlobalLeaflet&&(h.L=h.L||await o.e(243).then(o.t.bind(o,243,23)));const{map:s,CRS:i,Icon:f,latLngBounds:g,latLng:b,DomEvent:k}=e.useGlobalLeaflet?h.L:await o.e(633).then(o.bind(o,633));try{r.beforeMapMount&&await r.beforeMapMount()}catch(S){console.error(`The following error occurred running the provided beforeMapMount hook ${S.message}`)}await p(f);const C="string"==typeof r.crs?i[r.crs]:r.crs;r.crs=C||i.EPSG3857;const A={addLayer(e){if(void 0!==e.layerType)if(void 0===l.layerControl)l.layersToAdd.push(e);else{const t=l.layersInControl.find((t=>t.leafletObject._leaflet_id===e.leafletObject._leaflet_id));t||(l.layerControl.addLayer(e),l.layersInControl.push(e))}!1!==e.visible&&l.leafletRef.addLayer(e.leafletObject)},removeLayer(e){void 0!==e.layerType&&(void 0===l.layerControl?l.layersToAdd=l.layersToAdd.filter((t=>t.name!==e.name)):(l.layerControl.removeLayer(e.leafletObject),l.layersInControl=l.layersInControl.filter((t=>t.leafletObject._leaflet_id!==e.leafletObject._leaflet_id)))),l.leafletRef.removeLayer(e.leafletObject)},registerLayerControl(e){l.layerControl=e,l.layersToAdd.forEach((e=>{l.layerControl.addLayer(e)})),l.layersToAdd=[],v(e)},registerControl(e){l.leafletRef.addControl(e.leafletObject)},setZoom(t){const o=l.leafletRef.getZoom();t!==o&&l.leafletRef.setZoom(t,{animate:!e.noBlockingAnimations&&null})},setPaddingBottomRight(e){l.paddingBottomRight=e},setPaddingTopLeft(e){l.paddingTopLeft=e},setPadding(e){l.padding=e},setCrs(e){const t=l.leafletRef.getBounds();l.leafletRef.options.crs=e,l.leafletRef.fitBounds(t,{animate:!1,padding:[0,0]})},fitBounds(e){l.leafletRef.fitBounds(e,{animate:!this.noBlockingAnimations&&null})},setBounds(e){if(!e)return;const t=g(e);if(!t.isValid())return;const o=l.lastSetBounds||l.leafletRef.getBounds(),a=!o.equals(t,0);a&&(l.lastSetBounds=t,l.leafletRef.fitBounds(t,this.fitBoundsOptions))},setCenter(e){if(null==e)return;const t=b(e),o=l.lastSetCenter||l.leafletRef.getCenter();o.lat===t.lat&&o.lng===t.lng||(l.lastSetCenter=t,l.leafletRef.panTo(t,{animate:!this.noBlockingAnimations&&null}))}};y(d,A.addLayer),y(_,A.removeLayer),y(v,A.registerControl),y(w,A.registerLayerControl),l.leafletRef=s(n.value,r),c(A,l.leafletRef,e);const B=m(t.attrs);l.leafletRef.on("moveend",u(L.moveEndHandler,100)),l.leafletRef.on("overlayadd",L.overlayAddHandler),l.leafletRef.on("overlayremove",L.overlayRemoveHandler),k.on(l.leafletRef,B),l.ready=!0,(0,a.Y3)((()=>t.emit("ready",l.leafletRef)))})),(0,a.Jd)((()=>{l.leafletRef&&l.leafletRef.remove()}));const k=(0,a.Fl)((()=>l.leafletRef)),C=(0,a.Fl)((()=>l.ready));return{root:n,ready:C,leafletObject:k}},render(){return(0,a.h)("div",{style:{width:"100%",height:"100%"},ref:"root"},this.ready?this.$slots.default():{})},__file:"src/components/LMap.vue"};const P={...v,pane:{type:String,default:"markerPane"},draggable:{type:Boolean,custom:!0,default:!1},latLng:{type:[Object,Array],custom:!0,default:null},icon:{type:[Object],default:()=>{},custom:!1},zIndexOffset:{type:Number,custom:!1,default:null}},W=(e,t,o)=>{const{options:a,methods:n}=w(e,t,o),l={...a,...e},s={...n,setDraggable(e){t.value.dragging&&(e?t.value.dragging.enable():t.value.dragging.disable())},latLngSync(e){o.emit("update:latLng",e.latlng),o.emit("update:lat-lng",e.latlng)},setLatLng(e){if(null!=e&&t.value){const o=t.value.getLatLng();o&&o.equals(e)||t.value.setLatLng(e)}}};return{options:l,methods:s}};var x={name:"LMarker",props:P,setup(e,t){const n=(0,i.iH)({}),l=(0,i.iH)(!1),s=(0,a.f3)(g),r=(0,a.f3)("addLayer");(0,a.JJ)("canSetParentHtml",(()=>!!n.value.getElement())),(0,a.JJ)("setParentHtml",(e=>n.value.getElement().innerHTML=e)),(0,a.JJ)("setIcon",(e=>n.value.setIcon&&n.value.setIcon(e)));const{options:d,methods:p}=W(e,n,t);return void 0===d.icon&&delete d.icon,(0,a.bv)((async()=>{const{marker:i,DomEvent:f}=s?h.L:await o.e(633).then(o.bind(o,633));n.value=i(e.latLng,d);const y=m(t.attrs);f.on(n.value,y),n.value.on("move",u(p.latLngSync,100)),c(p,n.value,e),r({...e,...p,leafletObject:n.value}),l.value=!0,(0,a.Y3)((()=>t.emit("ready",n.value)))})),{ready:l,leafletObject:n}},render(){return L(this.ready,this.$slots)},__file:"src/components/LMarker.vue"};const D={...C,latLngs:{type:Array,default:()=>[]},smoothFactor:{type:Number,custom:!0,default:1},noClip:{type:Boolean,custom:!0,default:!1}},J={...D};const N={..._,content:{type:String,default:null}};const Z={...R,tms:{type:Boolean,default:!1},subdomains:{type:String,default:"abc"},detectRetina:{type:Boolean,default:!1},url:{type:String,default:null}},H=(e,t)=>{const{options:o,methods:a}=z(e,t),n={...o,tms:e.tms,subdomains:e.subdomains,detectRetina:e.detectRetina};return{options:n,methods:{...a}}};var M={props:Z,setup(e,t){const n=(0,i.iH)({}),l=(0,a.f3)(g),s=(0,a.f3)("addLayer"),{options:r,methods:u}=H(e,n);return(0,a.bv)((async()=>{const{tileLayer:i,DomEvent:d}=l?h.L:await o.e(633).then(o.bind(o,633));n.value=i(e.url,r);const p=m(t.attrs);d.on(n.value,p),c(u,n.value,e),s({...e,...u,leafletObject:n.value}),(0,a.Y3)((()=>t.emit("ready",n.value)))})),{leafletObject:n}},render(){return null},__file:"src/components/LTileLayer.vue"};Boolean,Boolean;var U=o(842),E=o(577);const q=e=>((0,a.dD)("data-v-51e16e06"),e=e(),(0,a.Cn)(),e),F={key:0},G=(0,a.Uk)(" Heute noch nicht besucht "),V={key:1},Y=(0,a.Uk)(" Für heute schon alles gerettet "),$=q((()=>(0,a._)("div",null,null,-1))),K={key:2},Q=(0,a.Uk)(" Hier gibts noch was ");function X(e,t,o,n,l,s){const i=(0,a.up)("ion-card-title"),r=(0,a.up)("ion-col"),u=(0,a.up)("ion-icon"),d=(0,a.up)("ion-label"),c=(0,a.up)("ion-chip"),m=(0,a.up)("ion-row"),p=(0,a.up)("ion-grid"),f=(0,a.up)("ion-card-header"),y=(0,a.up)("ion-button"),h=(0,a.up)("ion-card-content"),g=(0,a.up)("ion-card"),_=(0,a.up)("ion-content");return(0,a.wg)(),(0,a.j4)(_,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.spot,(o=>((0,a.wg)(),(0,a.j4)(g,{class:"card",key:o.name},{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{class:"title"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,E.zw)(o.name),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(r,{class:"time_chip"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{icon:e.time,color:"dark"},null,8,["icon"]),(0,a.Wm)(d,{onClick:t[0]||(t[0]=t=>e.check_day())},{default:(0,a.w5)((()=>[(0,a.Uk)(" Ab "+(0,E.zw)(o.time)+" Uhr ",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a._)("p",null,(0,E.zw)(o.description),1)])),_:2},1024)])),_:2},1024),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>["1"==o.status?((0,a.wg)(),(0,a.iD)("div",F,[(0,a.Wm)(y,{class:"button",expand:"block",color:"danger",onClick:e.presentActionSheet},{default:(0,a.w5)((()=>[G])),_:1},8,["onClick"])])):(0,a.kq)("",!0),"2"==o.status?((0,a.wg)(),(0,a.iD)("div",V,[(0,a.Wm)(y,{class:"button",expand:"block",color:"success",onClick:e.presentActionSheet},{default:(0,a.w5)((()=>[Y])),_:1},8,["onClick"]),$])):(0,a.kq)("",!0),"3"==o.status?((0,a.wg)(),(0,a.iD)("div",K,[(0,a.Wm)(y,{class:"button",expand:"block",color:"warning",onClick:e.presentActionSheet},{default:(0,a.w5)((()=>[Q])),_:1},8,["onClick"])])):(0,a.kq)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})}var ee=o(575);const te=(0,ee.Q_)("counter",{state:()=>({count:0}),actions:{}});var oe=o(903),ae=(0,a.aZ)({name:"Tab2Page",components:{IonContent:s.W2,IonCard:s.PM,IonCardContent:s.FN,IonCardHeader:s.Zi,IonCardTitle:s.Dq,IonButton:s.YG,IonIcon:s.gu,IonLabel:s.Q$,IonChip:s.hM,IonCol:s.wI,IonGrid:s.jY,IonRow:s.Nd},data:()=>({spot:[],time_since_close_value:"",time_since_change_value_millisec:"",time_since_change_value_minutes:"",jetzt_total_minutes:"",last_status_change:"",heute:"",last_status_change_month:"",aktueller_wochentag:"",days_of_week:""}),setup(){return{time:oe.XVJ}},async created(){const e=te();console.log(e.count);const{data:t}=await U.O.from("events").select("description,name,status,time,last_status_change,days_of_week").eq("id",e.count);console.log(t),this.spot=t,this.pre_reset()},methods:{async presentActionSheet(){const e=await s.BO.create({header:"Status",cssClass:"my-custom-class",buttons:[{text:"Heute noch nicht besucht",data:10,handler:()=>{console.log("Share clicked"),this.changeStatus(1)}},{text:"Für heute schon alles gerettet",data:"Data value",handler:()=>{console.log("Play clicked"),this.changeStatus(2)}},{text:"Hier gibts noch was",handler:()=>{console.log("Favorite clicked"),this.changeStatus(3)}},{text:"Abbrechen",role:"cancel",handler:()=>{console.log("Abbrechen clicked")}}]});await e.present();const{role:t,data:o}=await e.onDidDismiss();console.log("onDidDismiss resolved with role and data",t,o)},async changeStatus(e){console.log(e);const t=te(),{data:o}=await U.O.from("events").update({status:e,last_status_change:new Date}).eq("id",t.count);console.log(o);const{data:a}=await U.O.from("events").select("description,name,status,last_status_change").eq("id",t.count);console.log(a),this.spot=a},pre_reset(){this.spot.forEach((e=>{this.reset(e.status,e.last_status_change,e.time),this.days_of_week=e.days_of_week}))},reset(e,t,o){this.last_status_change=t,1==e?console.log("heute noch nicht besucht"):2==e||3==e?this.time_since_close(o):console.log("fehler. Der Wert ist nicht 1,2 oder 3")},time_since_close(e){console.log("time since close:"),this.heute=new Date;const t=this.heute.getHours(),o=this.heute.getMinutes(),a=e.split(":"),n=parseInt(a[0]),l=parseInt(a[1]),s=60*n+l;this.jetzt_total_minutes=60*t+o,s>this.jetzt_total_minutes?(this.time_since_close_value=1440-(s-this.jetzt_total_minutes),console.log(this.time_since_close_value),this.time_since_change()):this.jetzt_total_minutes>s?(this.time_since_close_value=this.jetzt_total_minutes-s,console.log(this.time_since_close_value),this.time_since_change()):s==this.jetzt_total_minutes?(this.time_since_close_value=0,console.log(this.time_since_close_value),this.time_since_change()):console.log("fehler")},time_since_change(){console.log("time since change:");const e=new Date(Date.parse(this.last_status_change)+72e5);this.time_since_change_value_millisec=Date.parse(this.heute)-Date.parse(e),this.time_since_change_value_minutes=this.time_since_change_value_millisec/6e4,console.log(this.time_since_change_value_minutes),this.time_since_change_vs_time_since_close()},time_since_change_vs_time_since_close(){this.time_since_change_value_minutes<this.time_since_close_value?console.log("Letzte Statusänderung war nach dem letzten Ladenschluss. Wird ausgegeben wie in db"):this.time_since_close_value<this.time_since_change_value_minutes?(console.log("Letzter Ladenschluss war nach der letzten Statusänderung Status wird geändert"),this.changeStatus(1),console.log("Status wurde geändert")):console.log("Fehler")}}}),ne=o(744);const le=(0,ne.Z)(ae,[["render",X],["__scopeId","data-v-51e16e06"]]);var se=le,ie=(0,a.aZ)({name:"Tab2Page",components:{IonHeader:s.Gu,IonToolbar:s.sr,IonTitle:s.wd,IonContent:s.W2,IonPage:s._i,LMap:I,LTileLayer:M,LMarker:x},setup(){},async created(){const{data:e}=await U.O.from("events").select("coordinates,id");this.populate_markers_array(e),this.loaded=!0},data:()=>({spot:!1,zoomControl:!1,loaded:!0,markers:[]}),methods:{populate_markers_array:function(e){this.markers=e.map((e=>({name:e.name,id:e.id,coord:e.coordinates.split(", ").map((e=>parseFloat(e)))}))),console.log(this.markers)},async openModal(e){const t=te();t.count=e;const o=await s.Fy.create({component:se,initialBreakpoint:.5,breakpoints:[0,.5,1],username:"matt"});return o.present()}}});const re=(0,ne.Z)(ie,[["render",l]]);var ue=re}}]);
//# sourceMappingURL=721.1f39fac9.js.map